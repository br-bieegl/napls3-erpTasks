$(document).ready(MJ_init);var defaultRemoteMaping=new Array(0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x00,0xff,0x0b,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x16,0xff,0xff,0xff,0xff,0xff,0x19,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x0d,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x1e,0x21,0x1f,0x20,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x5e,0x5b,0x5c,0x5d,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff);var RemoteButtonValue=new Array(0x16,0x00,0x01,0x02,0x64,0x03,0x04,0x05,0x65,0x06,0x07,0x08,0x63,0x0F,0x09,0x28,0x81,0x82,0x83,0x80,0x70,0x1A,0x40,0x0E,0x5C,0x5D,0x5E,0x5F,0x54,0x55,0x56,0x57,0x0B,0x5A,0x58,0x51,0x5B,0x59,0x52,0x43,0x50,0x53,0x33,0x32,0x34,0x30,0x38,0x31,0x60,0x39,0x61);var Inquery=false;var Timeout=100;var InqueryTimer;var BDAddr;var BDName;var BDCount='fail';var BTindex=0;function MJ_init(){common();$.mask.definitions['h']='[a-f0-9A-F]';$(".mcevalue").mask("hh",{placeholder:" "});DefaultValue();if(VersionTool>0x060000){$("#BDInquery").click(function(){clearTimeout(InqueryTimer);BDCount='fail';Timeout=100;BDAddr=new Array('fail','fail','fail','fail','fail','fail','fail','fail','fail','fail');BDName=new Array('fail','fail','fail','fail','fail','fail','fail','fail','fail','fail');BDInquery(BTindex);$('#BDDevice').html("");$('#InqueryInfo').html("");$("#BDInquiryDlog").dialog({show:'blind',hide:'blind',title:"Inquery Bluetooth Device",modal:true,autoOpen:true,draggable:true,height:240,width:680});InqueryCheck()});$("#RemoteEnable").click(function(){for(var i=0;i<RemoteButtonValue.length;i++){var value='0x'+$("#mcevalue_"+i).val();SetRemoteOptions(RemoteButtonValue[i],parseInt(value))}RemoteOptionsEnable();mmm()});$("#RemoteDefault").click(function(){DefaultValue();mmm()});GetInfo()}}function GetInfo(){for(var i=0;i<GetDeviceCount();i++){if(GetDeviceType(i)=="1"){BTindex=i;break}}for(var i=0;i<RemoteButtonValue.length;i++){var value=GetRemoteOptions(RemoteButtonValue[i]);if(value!="fail"){$("#mcevalue_"+i).val(ConverteValue(parseInt(value)))}}}function ConverteValue(value){var result="FF";if(value<0x10){result='0'+value.toString(16)}else{result=value.toString(16)}return result}function DefaultValue(){for(var i=0;i<RemoteButtonValue.length;i++){$("#mcevalue_"+i).val(ConverteValue(defaultRemoteMaping[RemoteButtonValue[i]]))}}function InqueryCheck(){if(BDCount=='fail'){BDCount=BDInqueryCount(BTindex)}if(BDCount!='fail'){for(var i=0;i<BDCount;i++){if(BDAddr[i]=="fail"){BDAddr[i]=BDRemoteAddr(BTindex,i)}else{if(BDName[i]=='fail'){BDName[i]=BDRemoteName(BTindex,BDAddr[i]);if(BDName[i]!='fail'){$('<p><a title="'+BDAddr[i]+'" class="ConnectBD">'+BDAddr[i]+'----'+BDName[i]+'</a></p>').appendTo('#BDDevice');$('a.ConnectBD').click(function(){ConnectRemoteBD(BTindex,this.title);return false})}}}}}Timeout--;if(Timeout>0){InqueryTimer=setTimeout('InqueryCheck()',300)}else{$('<p>Timeout!!!</p>').appendTo('#InqueryInfo')}}